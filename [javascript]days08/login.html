<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>2018. 8. 16. 오후 12:14:25</title>
<script src="cookie.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script>
$(document).ready(function(){
	
});
</script>
<style>
  .tbllogin{
    width:400px;
    height:100px;        
  }  
</style>
</head>
<body>

<table id="tblLogin" class="tbllogin" border="1">
  <tr>
  	<td>아이디</td>
  	<td><input type="text" id="txtid"   /></td>
  	<td rowspan="2">
  	  <input type="checkbox" id="ckbLogin" />
  	  <label for="ckbLogin">ID 저장</label>
  	  <br>
  	  <input type="button" onclick="btnLogin_click();" id="btnLogin" value="로그인" />
  	</td>
  </tr>
  <tr>
    <td>비밀번호</td>
    <td><input type="password"  id="txtpwd" /></td>
  </tr>
</table>
<table id="tblLogout" class="tbllogin" border="1">
  <tr>
  	<td>
  	   admin 님 환영합니다.<br>
  	   <input type="button" onclick="btnLogout_click();" value="로그아웃" />
  	</td>
  </tr>
</table>
<script>
 var tbl1 = document.getElementById("tblLogin");
 var tbl2 = document.getElementById("tblLogout");
 
 var txtid = document.getElementById("txtid");
 var txtpwd = document.getElementById("txtpwd");
 var ckblogin = document.getElementById("ckbLogin");
 
  window.onload = function (){
	 tbl2.style.display = "none"; 
	  
	  // 쿠키이름 : "autoid"	 쿠키값  :  "admin"
	  // 1. 쿠키이름 : "autoid" 
	  //   ㄱ.  null
	  //   ㄴ.  쿠키 존재하면
	  //      txtid   [ 쿠키값 admin ]
      //      ckbLogin 체크 
      var cvalue = getCookie("autoid");
	 if( cvalue) {
		 txtid.value = cvalue;
		 ckblogin.checked="checked";
		 txtpwd.focus();
	 }else{
		 txtid.focus();
	 }
  }
  function btnLogin_click(){
	  //  id admin   pwd  1234 
	  //  ㄱ. 로그인 성공	  
	  //      1) 체크박스 체크된 경우  쿠키 저장  (  autoid, admin )
	  //      2)        체크 안된 경우   쿠키 삭제 
	  // ㄴ. 로그인 실패
	  //     alert("로그인 실패~~~");
	  
	  if( txtid.value =="admin" && txtpwd.value=="1234"){
		  alert(" 로그인 성공!!! ");
		  if( ckblogin.checked ){
			  setCookie("autoid", txtid.value);
		  }else{
			  delCookie("autoid");
		  }
		  
		  tbl1.style.display = "none";
		  tbl2.style.display = "table"; 
	  }else{
		  alert(" 로그인 실패!!!")
	  }
	  
  }
  
  function btnLogout_click(){
	  tbl1.style.display = "table";
	  tbl2.style.display = "none";
	  //  
  }
  
</script>
</body>
</html>







