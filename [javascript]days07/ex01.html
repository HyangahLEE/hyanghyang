<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>스크롤 표시기</title>
<style>
body {
	margin: 0;
	font-size: 28px;
}

.header {
	position: fixed;
	top: 0;
	z-index: 1;
	width: 100%;
	background: #f1f1f1;
}

.header h2 {
	text-align: center;
}

.process-container {
	width: 100%;
	height: 8px;
	background: #ccc;
}

.progress-bar {
	height: 8px;
	background: red;
	width: 0px;
}

.content {
	padding: 100px 0;
	margin: 50px auto 0 auto;
	width: 80%;
}

#btnTop {
	display: none;
	position: fixed;
	bottom: 20px;
	right: 30px;
	z-index: 99;
	border: none;
	outline: none;
	background: red;
	color: white;
	padding: 15px;
	border-radius: 10px;
}
.header{
padding: 10px 16px;
background: #555;
color: #f1f1f1;
}
</style>
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script>
	$(document).ready(function() {});
</script>
</head>
<body>
	<div class="header">
		<h2>스크롤 표시기</h2>
	<!-- 	<div id="myheader" class="header">
			<h2>menus...</h2>
		</div> -->
		<div class="process-container">
			<div class="progress-bar" id="myBar"></div>
		</div>
	</div>

	<div class="content">
		<p>Lorem ipsum dolor sit amet.</p>
		<p>Temporibus modi vel quas blanditiis.</p>
		<p>Nam rerum alias libero consequuntur!</p>
		<p>Labore placeat sit itaque commodi.</p>
		<p>Totam quis voluptas enim dolor?</p>
		<p>Eligendi temporibus sit veniam cum.</p>
		<p>Rem quidem ex aperiam alias!</p>
		<p>Deleniti quo excepturi a aliquam?</p>
		<p>Voluptates magnam recusandae error eligendi.</p>
		<p>Sequi sint esse vel neque!</p>
		<p>Consectetur dolor dolorum doloremque delectus!</p>
		<p>Odio odit nemo molestias quisquam.</p>
		<p>Itaque nesciunt architecto at molestiae.</p>
		<p>Sunt minus exercitationem adipisci sit!</p>
		<p>Harum quibusdam obcaecati nulla. Esse.</p>
		<p>Nihil recusandae unde at tempore!</p>
		<p>Dolore nulla necessitatibus eos et.</p>
		<p>Rerum nihil pariatur adipisci perspiciatis?</p>
		<p>Excepturi molestiae earum vitae sint?</p>
		<p>Dicta modi ea maxime non!</p>
		<p>Facere laboriosam cum quibusdam eius.</p>
		<p>Quod debitis dignissimos unde excepturi.</p>
		<p>Nesciunt ex consequuntur expedita unde.</p>
		<p>Facilis labore eveniet possimus harum.</p>
		<p>Illo fuga omnis nemo inventore.</p>
		<p>Magni natus ducimus nesciunt ipsum.</p>
		<p>Sed perspiciatis beatae a assumenda!</p>
		<p>Atque ipsum facilis. Et libero?</p>
		<p>Repellat modi placeat molestiae dicta?</p>
		<p>Voluptates similique consectetur incidunt quisquam.</p>
		<p>Ut blanditiis harum adipisci obcaecati.</p>
		<p>Deleniti veritatis illo obcaecati incidunt.</p>
		<p>Facere sequi accusamus sapiente laboriosam.</p>
		<p>Hic architecto impedit quos voluptate?</p>
		<p>Praesentium vero veritatis tempora hic.</p>
		<p>Nihil distinctio laboriosam nam reiciendis?</p>
		<p>Recusandae est rem quae repellat.</p>
		<p>Autem tempore laborum placeat vero!</p>
		<p>Et iusto quos aspernatur eius.</p>
		<p>Magnam fuga enim blanditiis itaque!</p>
		<p>Natus deleniti possimus voluptate tempore.</p>
		<p>Iste expedita a error nobis.</p>
		<p>Sunt vero illo laudantium ex.</p>
		<p>Vero architecto officia deleniti quis.</p>
		<p>Odit vero assumenda culpa ipsa.</p>
		<p>Numquam reiciendis pariatur officiis ea!</p>
		<p>Repudiandae aliquam nobis labore reprehenderit.</p>
		<p>Blanditiis fuga quisquam at sequi.</p>
		<p>Velit repellat nemo ducimus incidunt.</p>
		<p>Voluptas et a dolorum nesciunt?</p>
	</div>
	<button id="btnTop" title="go to Top">Top</button>
	<script type="text/javascript">
//스크롤을 움직일 때마다 일어나는 이벤트들
window.onscroll = function(){		
	//console.log(window.scrollY+ " / "+document.documentElement.scrollTop + " / " +document.body.scrollTop);
	// document.documentElement.scrollTop== body > 브라우저에 따라서 서로 다르게 표현
	
	//console.log(document.documentElement.clientHeight +" / "+document.documentElement.scrollHeight);
	// 루트노드의 clientHeight 속성? 943 브라우저에 맞춰서 뿌려지는 브라우저의 높이
	//			scrollHeight속성? 3528 총 스크롤된거까지 합쳐서의 브라우저 높이
	
	//console.log(document.documentElement.scrollTop+ " / "+ window.scrollY);
	//실제 스크롤이 된 높이
	/* 
	--------->     요사이 높이
	|		|	>
	|		|||
	|		|
	--------- */
    //-*-*-*-*-*-*-*-* 창 사이즈 읽어오기 -*-*-*-*-*-*-*-*-*-*-*-*-*-*
    //Clientheight >> 눈에 보이는 많큼의 높이를 구한다.
    //ScrollHeight >> 스크롤 시키지 않았을때의 전체 높이를 구한다.
    //ScrollTop >> 스크롤되어 올라간 많큼의 높이를 구한다.(위로 올라간 부분 == 눈에 보이지 않는)
    //-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*

    /* 일반적으로 Java Script 의 스크롤된 위치를 알아오기 위해서 document.body.scrollTop 을 사용한다.
    하지만 상단에 DOCTYPE 이 선언된 경우 이 값이 항상 0으로 출력 된다.*/
	
	var winScroll = document.documentElement.scrollTop || document.body.scrollTop
	var height = document.documentElement.scrollHeight - document.documentElement.clientHeight
	var scrolled= (winScroll / height) *100;
	document.getElementById("myBar").style.width = scrolled+"%";
	
	//
	if(document.documentElement.scrollTop>800|| window.scrollY>800){
		document.getElementById("btnTop").style.display="block";
	}else{
		document.getElementById("btnTop").style.display="none";
	}
}

document.getElementById("btnTop").onclick =function(){
document.documentElement.scrollTop =0;
document.body.scrollTop=0;

}
</script>
</body>
</html>